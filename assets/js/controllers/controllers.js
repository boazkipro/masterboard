"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function e(t,n,a){function o(s,i){if(!n[s]){if(!t[s]){var d="function"==typeof require&&require;if(!i&&d)return d(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return o(n?n:e)},p,p.exports,e,t,n,a)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){app.controller("appController",["app","$scope","$location","$ionicModal","$rootScope","$ionicSideMenuDelegate","$ionicSlideBoxDelegate",function(e,t,n,a,o,r,s){t.current={},t.ui={},o.nav=[],o.links=[],t.nav.hasFilters=!1,t.nav.right={},t.nav.right.toggle=function(){r.toggleRight()},t.nav.left={},t.nav.left.toggle=function(){r.toggleLeft()},t.openFilters=function(e){e===!0?t.nav.hasFilters=!1:t.nav.hasFilters=!0};var i=function(e){t.links=e},d=function(e){t.nav=e};t.app.getData(d),t.app.getRoutes(i),o.app.reinit=function(){t.location.path("/scrum")},o.app.navSlide=function(e){s.slide(e,500)},t.ui.modal=function(e,n,o,r){console.dir("started"),e=e||"views/login.html",a.fromTemplateUrl(e,{scope:t,animation:n||"slide-in-up"}).then(function(e){t.current.modal=e}),t.current.openModal=function(){t.current.modal.show()},t.current.closeModal=function(){t.current.modal.hide()},t.$on("$destroy",function(){t.current.modal.remove()}),t.$on("current.modal.hidden",o),t.$on("current.modal.removed",r)},o.exec=function(e){return e()},o.secure=function(e){var n=window.location.href.split("/"),a=n[n.length-1];t.links.indexOf(a)>=0&&o.exec(e)},t.logout=function(){t.logedin=!1,delete t.storage.user,window.location="/#/"}}])},{}],2:[function(e,t,n){e("./app.ctrl.js"),e("./formly.ctrl.js"),e("./scrum.ctrl.js")},{"./app.ctrl.js":1,"./formly.ctrl.js":3,"./scrum.ctrl.js":4}],3:[function(e,t,n){app.controller("AuthController",["$scope","$http",function(e,t){e.vm={},e.vm.onSubmit=function(){var t=function(t){200===t.response||"SUCCESS"===t.response?(e.app.UID("resp",e.app.str(t.data.message),"success"),e.vm.model={}):e.app.UID("resp",e.app.str(t.data.message),"danger")};e.app.cors(e.app.url+"/register",e.vm.model,t)},e.vm.model={terms:!0},e.vm.fields=[{key:"username",type:"inline-input",templateOptions:{label:"Username*",type:"text",placeholder:"Username",required:!0}},{key:"first_name",type:"inline-input",templateOptions:{label:"First Name*",type:"text",placeholder:"First Name",required:!0}},{key:"last_name",type:"inline-input",templateOptions:{label:"Last Name",type:"text",placeholder:"Last Name",required:!1}},{key:"password",type:"inline-input",templateOptions:{type:"password",label:"Password*",placeholder:"Password",disabled:!1,required:!0}},{key:"password2",type:"inline-input",templateOptions:{type:"password",label:"Repeat Password*",placeholder:"********",disabled:!1,required:!0}},{key:"telephone",type:"inline-input",templateOptions:{type:"text",label:"Telephone*",placeholder:"+123456789123",disabled:!1,required:!0}},{key:"postal_address",type:"inline-input",templateOptions:{type:"text",label:"Address",placeholder:"P.O BOX STH",disabled:!1,required:!1}},{key:"city",type:"inline-input",templateOptions:{type:"text",label:"City",placeholder:"SOME CITY",disabled:!1,required:!1}},{key:"zip",type:"inline-input",templateOptions:{type:"text",label:"ZIP",placeholder:"0000",disabled:!1,required:!1}},{key:"email",type:"inline-input",templateOptions:{type:"email",label:"Email*",placeholder:"john@doe.ext",disabled:!1,required:!0}},{key:"country",type:"countries",templateOptions:{label:"Country*"}},{key:"terms",type:"terms"},{type:"submit",key:"submit",templateOptions:{label:"Join Bixbyte",disabled:"!model.terms || form.$invalid"}},{type:"space",key:""}],e.vm.originalFields=angular.copy(e.vm.fields)}])},{}],4:[function(e,t,n){app.controller("scrumCtrl",["$scope","$ionicModal","$rootScope",function(e,t,n){e.connectedUsers=[];var a=io.connect("172.16.2.180:3000");a.on("connect",function(){e.storage.user&&e.storage.user.username&&a.emit("addUser",e.storage.user.username)}),a.on("connectedUsers",function(t){e.connectedUsers=t,e.$apply()}),e.addingProject=!1,e.isProject=function(){e.addingProject=1!=e.addingProject},e.addingUser=!1,e.addUser=function(){e.addingUser=1!=e.addingUser},e.editingUser=!1,e.editUser=function(){e.editingUser=1!=e.editingUser},e.addingTask=!1,e.addTask=function(t){e.addingTask=1!=e.addingTask,e.storage.current_project=t},e.setProject=function(t){e.storage.current_project=t,window.location="/#/dashboard"},e.fetched={},e.fetch=function(t,n,a){n=n?e.app.json(n):{},n.table=t,n.command="get",e.scrum.ajax(n).then(function(n){200==n.response?e.fetched[t]=n.data.message:e.app.alert("Error Message","<center>"+n.data.message+"</center>")})},e.add={},e.fetch={},e.fetched={},e.data={},e.data.users={},e.data.login={},e.data.admin={},e.frame.changeAdmin(!1),e.logedin=!1,e.add=function(t,n,a){n=n?e.app.json(n):{},n.command="add",n.table=void 0!=t?t.toString().replace(/vw_/gi,""):"",n.token={user:"undefined",key:"undefined"},n.extras=n&&n.extras?n.extras.replace(/LIMIT 1/gi,""):void 0,e.scrum.ajax(n).then(function(o){e.app.UID(a,"<center>"+(200!=o.response?o.data.message:"Record Successfully Added.")+"</center>",200==o.response?"success":"danger"),200==o.response&&(e.fetch(t,{specifics:n.specifics}),e.data[n.toString().replace(/vw_/gi,"")]={}),e.$apply()})},e.update=function(t,n,a,o){n=n?e.app.json(n):{},n.command="update",n.table=void 0!=t?t.toString().replace(/vw_/gi,""):"",n.token=n.token||{user:"undefined",key:"undefined"},n.extras=n&&n.extras?n.extras.replace(/LIMIT 1/gi,""):void 0,o&&o.split(",").forEach(function(t){n[t]=e.app.md5(n[t])}),e.scrum.ajax(n).then(function(o){if(o=e.app.json(o),200==o.response)e.app.UID(a,'<center> "Record Successfully Updated."</center>',"success"),e.fetch(t,{specifics:n.specifics}),e.data[n.toString().replace(/vw_/gi,"")]={};else{if(Array.isArray(o.data.message)){var r=o.data.message[2].match(/DETAIL:(.*)/);void 0!=r||null!=r?o.data.message=r[1]:o.data.message=o.data.message[2]}else o.data.message;e.app.alert("ERROR","<center>"+o.data.message+"</center>",e.app.doNothing,"CONTINUE")}e.$apply()})},e.fetch=function(t,n,a){n=n?e.app.json(n):{},n.command="get",n.table=t,e.scrum.ajax(n).then(function(n){n=e.app.json(n),200==n.response?e.fetched[t]=n.data.message:e.app.alert("ERROR","<center>"+n.data.message+"</center>",e.app.doNothing,"CONTINUE"),e.$apply()})},e.del=function(t,n,a,o){n=n?e.app.json(n):{},n.command="del",n.table=void 0!=t?t.toString().replace(/vw_/gi,""):"",n.token={user:"undefined",key:"undefined"},e.scrum.ajax(n).then(function(n){n=e.app.json(n),200==n.response?(e.fetched[t].splice(o,1),e.app.UID("response","<center>Deleted.</center>","info")):e.app.UID("response","<center>"+n.data.message+"</center>","danger"),e.$apply()})},e.login=function(){e.data.login.command="get",e.data.login.table="users",e.data.login.extras="LIMIT 1",e.scrum.ajax(e.data.login).then(function(t){t=e.app.json(t),200==t.response?t.data.message.length>0&&"object"==_typeof(t.data.message[0])?t.data.message[0].telephone_number==e.data.login.telephone_number?(e.storage.user=t.data.message[0],e.logedin=!0,a.emit("addUser",e.storage.user.username)):(delete e.storage.user,window.location="/#/projects"):(delete e.storage.user,e.app.UID("response","<center>You have entered the wrong login credentials.</center>","danger")):(e.app.alert("ERROR","<center>Application error.<br>Failed to log you in.<br></center>",e.app.doNothing,"CONTINUE"),delete e.storage.user),e.$apply()})},e.adminLogin=function(){e.data.admin.command="get",e.data.admin.table="admin",e.data.admin.extras="LIMIT 1",e.scrum.ajax(e.data.admin).then(function(t){t=e.app.json(t),200==t.response?t.data.message.length>0&&"object"==_typeof(t.data.message[0])?t.data.message[0].password===e.data.admin.password?(e.storage.admin=t.data.message[0],e.storage.admin._={},e.storage.admin._.user=t.data.message[0].admin_name,e.storage.admin._.key=t.data.message[0].password,n.frame.changeAdmin(!0)):(delete e.data.admin,delete e.storage.admin,window.location="/#/admin"):(delete e.data.admin,delete e.storage.admin,e.app.UID("response","<center>You have entered the wrong login credentials.</center>","danger"),window.location="/#/admin"):(e.app.alert("ERROR","<center>"+t.data.message+"</center>",e.app.doNothing,"CONTINUE"),delete e.storage.admin),e.$apply()})},e.islogedin=function(){e.storage.user&&(e.data.login.telephone_number=e.storage.user.telephone_number,e.data.login.password=e.storage.user.password,e.login())},e.logout=function(){e.logedin=!1,delete e.storage.user,window.location="/#/"},e.authorize=function(){e.storage.admin?(e.data.admin={},e.data.admin.admin_name=e.storage.admin.admin_name,e.data.admin.password=e.storage.admin.password,e.adminLogin()):e.location="/#/admin"},e.deauthorize=function(){delete e.storage.admin,n.frame.changeAdmin(!1),window.location="/#/"},e.centerAnchor=!0,e.toggleCenterAnchor=function(){e.centerAnchor=!e.centerAnchor},e.draggableObjects=[{name:"one"},{name:"two"},{name:"three"}],e.droppedInproductBacklog=[],e.droppedInSprint=[],e.droppedInBlockers=[],e.droppedInDone=[],e.onDropCompleteInDone=function(t,n){console.dir(n),t.taskstatus="completed",t.extras="taskid = '"+t.taskid+"'",t.$$hashKey=void 0,e.update("tasks",t),e.droppedInDone.push(t),console.dir(e.droppedInDone)},e.onDropCompleteInBlockers=function(t,n){console.dir(n),t.taskstatus="blocked",t.extras="taskid = '"+t.taskid+"'",t.$$hashKey=void 0,e.update("tasks",t),e.droppedInDone.push(t),console.dir(e.droppedInBlockers)},e.onDropCompleteInSprint=function(t,n){console.dir(n),t.taskstatus="in progress",t.extras="taskid = '"+t.taskid+"'",t.$$hashKey=void 0,e.update("tasks",t),e.droppedInDone.push(t),console.dir(e.droppedInSprint)},e.onDropCompleteInproductBacklog=function(t,n){console.dir(n),t.taskstatus="created",t.extras="taskid = '"+t.taskid+"'",t.$$hashKey=void 0,e.update("tasks",t),e.droppedInDone.push(t),console.dir(e.droppedInBlockers)}}])},{}]},{},[2]);